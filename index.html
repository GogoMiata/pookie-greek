<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pookie's Greek â€” 30-day Mini-Course</title>
  <meta name="description" content="30-day conversational Greek course for Jade (Pookie). Installable on iPhone (Add to Home Screen)." />
  <!-- iOS home-screen icon (put apple-touch-icon.png in same folder) -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <meta name="apple-mobile-web-app-title" content="Pookie's Greek">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <style>
    :root{--bg:#071428;--card:rgba(255,255,255,0.03);--accent:#f59e0b;--text:#e6eef8;--muted:#9ca3af}
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    body{margin:0;background:linear-gradient(180deg,#02203b,#071428);color:var(--text);-webkit-font-smoothing:antialiased}
    header{padding:18px;text-align:center}
    h1{margin:0;font-size:20px}
    .container{max-width:920px;margin:14px auto;padding:12px}
    .card{background:var(--card);border-radius:12px;padding:12px;margin-bottom:12px}
    .row{display:flex;gap:8px;align-items:center}
    button, .btn {background:var(--accent);border:none;padding:10px 12px;border-radius:10px;color:#081129;font-weight:600;cursor:pointer}
    .lesson-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px}
    .lesson-item{padding:12px;background:rgba(255,255,255,0.02);border-radius:10px;cursor:pointer}
    .vocab-list{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .vocab{padding:8px;background:rgba(255,255,255,0.01);border-radius:8px;display:flex;align-items:center}
    .play{background:#072a2a;color:#b6f7f7;padding:8px;border-radius:8px;margin-left:auto;cursor:pointer}
    footer{padding:10px;text-align:center;color:var(--muted);font-size:13px}
    .small{font-size:13px;color:var(--muted)}
    input[type="text"]{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);width:100%;background:transparent;color:var(--text)}
    .dialog-card{background:rgba(255,255,255,0.02);padding:8px;border-radius:8px;margin-top:8px}
    .nav-row{display:flex;gap:8px;justify-content:space-between;align-items:center;margin-top:12px}
    a.link{color:var(--accent);text-decoration:none;font-weight:600}
    .hidden{display:none}
    @media (max-width:420px){.vocab-list{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <h1>Pookie's Greek â€” 30-day Mini-Course</h1>
    <div class="small">20 minutes/day â€” tap a day to begin. Use Safari on iPhone to Add to Home Screen.</div>
  </header>

  <main class="container">
    <div id="app"></div>
    <div id="lessonCard" class="card hidden"></div>
  </main>

  <footer>Made with â¤ï¸ â€” Happy Anniversary, Jade & Pookie.</footer>

<script>
/* ===== FULL 30-DAY LESSON DATA =====
   Each lesson: { day, title, items: [ {gr, tr, en}... ], dialog: [ {a,b}, ... ] }
*/
const lessons = [
  {day:1,title:"Greetings",items:[
    {gr:"Î“ÎµÎ¹Î¬ ÏƒÎ¿Ï…",tr:"GeiÃ¡ sou",en:"Hello (informal)"},
    {gr:"Î“ÎµÎ¹Î¬ ÏƒÎ±Ï‚",tr:"GeiÃ¡ sas",en:"Hello (formal/plural)"},
    {gr:"ÎšÎ±Î»Î·Î¼Î­ÏÎ±",tr:"KalimÃ©ra",en:"Good morning"},
    {gr:"ÎšÎ±Î»Î·ÏƒÏ€Î­ÏÎ±",tr:"Kalispera",en:"Good evening"},
    {gr:"ÎšÎ±Î»Î·Î½ÏÏ‡Ï„Î±",tr:"KalinÃ­khta",en:"Good night"}
  ],dialog:[
    {a:"Î“ÎµÎ¹Î¬ ÏƒÎ¿Ï…!",b:"Î“ÎµÎ¹Î¬ ÏƒÎ¿Ï…! Î ÏÏ‚ ÎµÎ¯ÏƒÎ±Î¹;"}
  ]},
  {day:2,title:"Politeness",items:[
    {gr:"Î•Ï…Ï‡Î±ÏÎ¹ÏƒÏ„Ï",tr:"EfcharistÃ³",en:"Thank you"},
    {gr:"Î Î±ÏÎ±ÎºÎ±Î»Ï",tr:"ParakalÃ³",en:"Please / You're welcome"},
    {gr:"Î£Ï…Î³Î³Î½ÏÎ¼Î·",tr:"SignÃ³mi",en:"Sorry / Excuse me"}
  ],dialog:[{a:"Î•Ï…Ï‡Î±ÏÎ¹ÏƒÏ„Ï!",b:"Î Î±ÏÎ±ÎºÎ±Î»Ï!"}]},
  {day:3,title:"Names",items:[
    {gr:"ÎœÎµ Î»Î­Î½Îµ...",tr:"Me lÃ©ne...",en:"My name is..."},
    {gr:"Î ÏÏ‚ ÏƒÎµ Î»Î­Î½Îµ;",tr:"PÃ³s se lÃ©ne?",en:"What's your name?"},
    {gr:"Î§Î¬ÏÎ·ÎºÎ±",tr:"ChÃ¡rika",en:"Nice to meet you"}
  ],dialog:[{a:"ÎœÎµ Î»Î­Î½Îµ ÎœÎ±ÏÎ¯Î±.",b:"Î§Î¬ÏÎ·ÎºÎ±, ÎµÎ³Ï ÎµÎ¯Î¼Î±Î¹ Î· Î†Î½Î½Î±."}]},
  {day:4,title:"How are you?",items:[
    {gr:"Î¤Î¹ ÎºÎ¬Î½ÎµÎ¹Ï‚;",tr:"Ti kÃ¡neis?",en:"How are you?"},
    {gr:"ÎšÎ±Î»Î¬",tr:"KalÃ¡",en:"Good"},
    {gr:"ÎˆÏ„ÏƒÎ¹ ÎºÎ¹ Î­Ï„ÏƒÎ¹",tr:"Ã‰tsi ki Ã©tsi",en:"So-so"},
    {gr:"ÎšÎ±ÎºÏŒÏ‚/ÎšÎ±ÎºÎ®",tr:"KakÃ³s/KakÃ­",en:"Bad (m/f)"}
  ],dialog:[{a:"Î¤Î¹ ÎºÎ¬Î½ÎµÎ¹Ï‚;",b:"ÎšÎ±Î»Î¬, ÎµÏ…Ï‡Î±ÏÎ¹ÏƒÏ„Ï."}]},
  {day:5,title:"Where are you from?",items:[
    {gr:"Î‘Ï€ÏŒ Ï€Î¿Ï ÎµÎ¯ÏƒÎ±Î¹;",tr:"ApÃ³ poÃº eÃ­sai?",en:"Where are you from?"},
    {gr:"Î•Î¯Î¼Î±Î¹ Î±Ï€ÏŒ...",tr:"EÃ­mai apÃ³...",en:"I am from..."},
    {gr:"Î•Î»Î»Î¬Î´Î±",tr:"EllÃ¡da",en:"Greece"},
    {gr:"Î‘Î¼ÎµÏÎ¹ÎºÎ®",tr:"AmerikÃ­",en:"America / USA"}
  ],dialog:[{a:"Î‘Ï€ÏŒ Ï€Î¿Ï ÎµÎ¯ÏƒÎ±Î¹;",b:"Î•Î¯Î¼Î±Î¹ Î±Ï€ÏŒ Ï„Î·Î½ Î‘Î¼ÎµÏÎ¹ÎºÎ®."}]},
  {day:6,title:"Family basics",items:[
    {gr:"ÎœÎ±Î¼Î¬",tr:"MamÃ¡",en:"Mom"},
    {gr:"ÎœÏ€Î±Î¼Ï€Î¬Ï‚",tr:"BampÃ¡s",en:"Dad"},
    {gr:"Î‘Î´ÎµÏÏ†ÏŒÏ‚",tr:"AderfÃ³s",en:"Brother"},
    {gr:"Î‘Î´ÎµÏÏ†Î®",tr:"AderfÃ­",en:"Sister"}
  ],dialog:[{a:"Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î±Ï…Ï„Î®;",b:"Î— Î±Î´ÎµÏÏ†Î® Î¼Î¿Ï…."}]},
  {day:7,title:"Week 1 Review",items:[],dialog:[]},

  {day:8,title:"Food basics",items:[
    {gr:"ÎÎµÏÏŒ",tr:"NerÃ³",en:"Water"},
    {gr:"Î¨Ï‰Î¼Î¯",tr:"PsomÃ­",en:"Bread"},
    {gr:"ÎšÎ±Ï†Î­Ï‚",tr:"KafÃ©s",en:"Coffee"},
    {gr:"Î¤ÏƒÎ¬Î¹",tr:"TsÃ¡i",en:"Tea"},
    {gr:"ÎšÏÎ±ÏƒÎ¯",tr:"KrasÃ­",en:"Wine"}
  ],dialog:[{a:"Î˜Î± Î®Î¸ÎµÎ»Î± Î­Î½Î±Î½ ÎºÎ±Ï†Î­, Ï€Î±ÏÎ±ÎºÎ±Î»Ï.",b:"Î£Î±Ï‚ Ï†Î­ÏÎ½Ï‰ Î­Î½Î±Î½ ÎºÎ±Ï†Î­."}]},
  {day:9,title:"Ordering politely",items:[
    {gr:"Î˜Î± Î®Î¸ÎµÎ»Î±...",tr:"Tha Ã­thela...",en:"I would like..."},
    {gr:"ÎœÏ€Î¿ÏÏ Î½Î± Î­Ï‡Ï‰...;",tr:"BorÃ³ na Ã©ho...?",en:"Can I have...?"},
    {gr:"Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒ, Ï€Î±ÏÎ±ÎºÎ±Î»Ï",tr:"LogariasmÃ³, parakalÃ³",en:"The bill, please"}
  ],dialog:[{a:"Î¤Î¹ Î¸Î± Î¸Î­Î»Î±Ï„Îµ;",b:"Î˜Î± Î®Î¸ÎµÎ»Î± Î­Î½Î± ÏƒÎ¬Î½Ï„Î¿Ï…Î¹Ï„Ï‚."}]},
  {day:10,title:"Numbers 1â€“10",items:[
    {gr:"ÎˆÎ½Î±",tr:"Ã‰na",en:"1"},{gr:"Î”ÏÎ¿",tr:"DÃ½o",en:"2"},{gr:"Î¤ÏÎ¯Î±",tr:"TrÃ­a",en:"3"},
    {gr:"Î¤Î­ÏƒÏƒÎµÏÎ±",tr:"TÃ©ssera",en:"4"},{gr:"Î Î­Î½Ï„Îµ",tr:"PÃ©nte",en:"5"},{gr:"ÎˆÎ¾Î¹",tr:"Ã‰xi",en:"6"},
    {gr:"Î•Ï€Ï„Î¬",tr:"EptÃ¡",en:"7"},{gr:"ÎŸÎºÏ„Ï",tr:"OktÃ³",en:"8"},{gr:"Î•Î½Î½Î¹Î¬",tr:"EnniÃ¡",en:"9"},{gr:"Î”Î­ÎºÎ±",tr:"DÃ©ka",en:"10"}
  ],dialog:[{a:"Î˜Î± Î®Î¸ÎµÎ»Î± Î´ÏÎ¿ ÎºÎ±Ï†Î­Î´ÎµÏ‚.",b:"ÎŸÏÎ¯ÏƒÏ„Îµ Î´ÏÎ¿ ÎºÎ±Ï†Î­Î´ÎµÏ‚."}]},
  {day:11,title:"Shopping phrases",items:[
    {gr:"Î ÏŒÏƒÎ¿ ÎºÎ¿ÏƒÏ„Î¯Î¶ÎµÎ¹;",tr:"PÃ³so kostÃ­zei?",en:"How much is it?"},
    {gr:"Î‘ÎºÏÎ¹Î²ÏŒ",tr:"AkrivÃ³",en:"Expensive"},
    {gr:"Î¦Ï„Î·Î½ÏŒ",tr:"FtÃ­nio",en:"Cheap"}
  ],dialog:[{a:"Î ÏŒÏƒÎ¿ ÎºÎ¿ÏƒÏ„Î¯Î¶ÎµÎ¹;",b:"ÎšÎ¿ÏƒÏ„Î¯Î¶ÎµÎ¹ Î´Î­ÎºÎ± ÎµÏ…ÏÏ."}]},
  {day:12,title:"Directions 1",items:[
    {gr:"Î Î¿Ï ÎµÎ¯Î½Î±Î¹...;",tr:"PoÃº eÃ­nai...?",en:"Where is...?"},
    {gr:"Î”ÎµÎ¾Î¹Î¬",tr:"DexiÃ¡",en:"Right"},
    {gr:"Î‘ÏÎ¹ÏƒÏ„ÎµÏÎ¬",tr:"AristerÃ¡",en:"Left"},
    {gr:"Î•Ï…Î¸ÎµÎ¯Î±",tr:"EutheÃ­a",en:"Straight"}
  ],dialog:[{a:"Î Î¿Ï ÎµÎ¯Î½Î±Î¹ Î· Ï„Î¿Ï…Î±Î»Î­Ï„Î±;",b:"Î•ÎºÎµÎ¯ Î´ÎµÎ¾Î¹Î¬."}]},
  {day:13,title:"Directions 2",items:[
    {gr:"ÎšÎ¿Î½Ï„Î¬",tr:"KontÃ¡",en:"Near"},{gr:"ÎœÎ±ÎºÏÎ¹Î¬",tr:"MakriÃ¡",en:"Far"},
    {gr:"Î•Î´Ï",tr:"EdÃ³",en:"Here"},{gr:"Î•ÎºÎµÎ¯",tr:"EkeÃ­",en:"There"}
  ],dialog:[{a:"Î•Î¯Î½Î±Î¹ ÎºÎ¿Î½Ï„Î¬;",b:"ÎÎ±Î¹, Ï€Î¿Î»Ï ÎºÎ¿Î½Ï„Î¬."}]},
  {day:14,title:"Week 2 Review",items:[],dialog:[]},

  {day:15,title:"Small talk: weather",items:[
    {gr:"ÎŸ ÎºÎ±Î¹ÏÏŒÏ‚",tr:"O kairÃ³s",en:"The weather"},
    {gr:"Î•Î¯Î½Î±Î¹ Î¶ÎµÏƒÏ„ÏŒ",tr:"EÃ­nai zestÃ³",en:"It's hot"},
    {gr:"Î•Î¯Î½Î±Î¹ ÎºÏÏÎ¿",tr:"EÃ­nai krÃ½o",en:"It's cold"}
  ],dialog:[{a:"Î¤Î¹ ÎºÎ±Î¹ÏÏŒ Î­Ï‡Î¿Ï…Î¼Îµ;",b:"ÎˆÏ‡ÎµÎ¹ Î·Î»Î¹Î¿Ï†Î¬Î½ÎµÎ¹Î±."}]},
  {day:16,title:"Feelings",items:[
    {gr:"Î§Î±ÏÎ¿ÏÎ¼ÎµÎ½Î·",tr:"CharoÃºmeni",en:"Happy (f)"},
    {gr:"ÎšÎ¿Ï…ÏÎ±ÏƒÎ¼Î­Î½Î·",tr:"KourasmÃ©ni",en:"Tired (f)"},
    {gr:"Î ÎµÎ¹Î½Î±ÏƒÎ¼Î­Î½Î·",tr:"PeinasmÃ©ni",en:"Hungry (f)"}
  ],dialog:[{a:"Î ÏÏ‚ Î½Î¹ÏÎ¸ÎµÎ¹Ï‚;",b:"Î•Î¯Î¼Î±Î¹ ÎºÎ¿Ï…ÏÎ±ÏƒÎ¼Î­Î½Î·."}]},
  {day:17,title:"Time basics",items:[
    {gr:"Î¤Î¹ ÏÏÎ± ÎµÎ¯Î½Î±Î¹;",tr:"Ti Ã³ra eÃ­nai?",en:"What time is it?"},
    {gr:"Î ÏÏ‰Î¯",tr:"ProÃ­",en:"Morning"},
    {gr:"ÎœÎµÏƒÎ·Î¼Î­ÏÎ¹",tr:"MesimÃ©ri",en:"Noon"},
    {gr:"Î’ÏÎ¬Î´Ï…",tr:"VrÃ¡dy",en:"Evening"}
  ],dialog:[{a:"Î¤Î¹ ÏÏÎ± ÎµÎ¯Î½Î±Î¹;",b:"Î•Î¯Î½Î±Î¹ Î´ÏÎ¿ Ï„Î¿ Î¼ÎµÏƒÎ·Î¼Î­ÏÎ¹."}]},
  {day:18,title:"Visiting someone",items:[
    {gr:"ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸ÎµÏ‚",tr:"KalÃ³s Ã­rthes",en:"Welcome"},
    {gr:"Î ÎµÏÎ¬ÏƒÏ„Îµ",tr:"PerÃ¡ste",en:"Come in"},
    {gr:"Î£Ï€Î¯Ï„Î¹",tr:"SpÃ­ti",en:"House"}
  ],dialog:[{a:"ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸Î±Ï„Îµ!",b:"Î£Î±Ï‚ ÎµÏ…Ï‡Î±ÏÎ¹ÏƒÏ„Î¿ÏÎ¼Îµ Ï€Î¿Ï… Î®ÏÎ¸Î±Ï„Îµ."}]},
  {day:19,title:"Compliments",items:[
    {gr:"Î©ÏÎ±Î¯Î¿",tr:"OraÃ­o",en:"Nice"},
    {gr:"ÎœÎ¿Ï… Î±ÏÎ­ÏƒÎµÎ¹",tr:"Mou arÃ©sei",en:"I like it"},
    {gr:"Î Î¿Î»Ï ÏŒÎ¼Î¿ÏÏ†Î¿",tr:"PolÃ½ Ã³morfo",en:"Very beautiful"}
  ],dialog:[{a:"ÎœÎ¿Ï… Î±ÏÎ­ÏƒÎµÎ¹ Ï„Î¿ Ï†ÏŒÏÎµÎ¼Î¬ ÏƒÎ¿Ï….",b:"Î•Ï…Ï‡Î±ÏÎ¹ÏƒÏ„Ï!"}]},
  {day:20,title:"Plans",items:[
    {gr:"Î¤Î¹ ÎºÎ¬Î½ÎµÎ¹Ï‚ Î±ÏÏÎ¹Î¿;",tr:"Ti kÃ¡neis Ã¡vrio?",en:"What are you doing tomorrow?"},
    {gr:"Î˜Î± Ï€Î¬Ï‰",tr:"Tha pÃ¡o",en:"I will go"},
    {gr:"Î£Ï„Î·Î½ Î±Î³Î¿ÏÎ¬",tr:"Stin agorÃ¡",en:"To the market"}
  ],dialog:[{a:"Î¤Î¹ ÎºÎ¬Î½ÎµÎ¹Ï‚ Î±ÏÏÎ¹Î¿;",b:"Î˜Î± Ï€Î¬Ï‰ ÏƒÏ„Î¿ Ï€Î±Î¶Î¬ÏÎ¹."}]},
  {day:21,title:"Week 3 Review",items:[],dialog:[]},

  {day:22,title:"Meals with family",items:[
    {gr:"Î¦Î±Î³Î·Ï„ÏŒ",tr:"FaghtÃ³",en:"Food"},
    {gr:"Î”ÎµÎ¯Ï€Î½Î¿",tr:"DeÃ­pno",en:"Dinner"},
    {gr:"Î“Î»Ï…ÎºÏŒ",tr:"GlykÃ³",en:"Dessert"}
  ],dialog:[{a:"Î˜Î­Î»ÎµÎ¹Ï‚ Î»Î¯Î³Î¿ ÏˆÏ‰Î¼Î¯;",b:"ÎÎ±Î¹, Ï€Î±ÏÎ±ÎºÎ±Î»Ï."}]},
  {day:23,title:"Asking for help",items:[
    {gr:"ÎœÏ€Î¿ÏÎµÎ¯Ï‚ Î½Î± Î¼Îµ Î²Î¿Î·Î¸Î®ÏƒÎµÎ¹Ï‚;",tr:"BorÃ­s na me voithÃ­seis?",en:"Can you help me?"},
    {gr:"Î¦Ï…ÏƒÎ¹ÎºÎ¬",tr:"FysikÃ¡",en:"Of course"}
  ],dialog:[{a:"ÎœÏ€Î¿ÏÎµÎ¯Ï‚ Î½Î± Î¼Îµ Î²Î¿Î·Î¸Î®ÏƒÎµÎ¹Ï‚ Î¼Îµ Î±Ï…Ï„ÏŒ;",b:"Î¦Ï…ÏƒÎ¹ÎºÎ¬, Ï€ÎµÏ‚ Î¼Î¿Ï…."}]},
  {day:24,title:"Describing things",items:[
    {gr:"ÎœÎµÎ³Î¬Î»Î¿",tr:"MegÃ¡lo",en:"Big"},
    {gr:"ÎœÎ¹ÎºÏÏŒ",tr:"MikrÏŒ",en:"Small"},
    {gr:"ÎšÎ±Î¹Î½Î¿ÏÏÎ¹Î¿",tr:"KainoÃºrio",en:"New"}
  ],dialog:[{a:"Î¤Î¿ ÏƒÏ€Î¯Ï„Î¹ ÎµÎ¯Î½Î±Î¹ Î¼ÎµÎ³Î¬Î»Î¿.",b:"ÎÎ±Î¹, Î­Ï‡ÎµÎ¹ Ï„ÏÎµÎ¹Ï‚ ÎºÏÎµÎ²Î±Ï„Î¿ÎºÎ¬Î¼Î±ÏÎµÏ‚."}]},
  {day:25,title:"People & relationships",items:[
    {gr:"Î¦Î¯Î»Î¿Ï‚",tr:"FÃ­los",en:"Friend"},
    {gr:"Î“ÎµÎ¯Ï„Î¿Î½Î±Ï‚",tr:"GeÃ­tonas",en:"Neighbor"},
    {gr:"Î£Ï…Î³Î³ÎµÎ½Î®Ï‚",tr:"SyggenÃ­s",en:"Relative"}
  ],dialog:[{a:"Î‘Ï…Ï„ÏŒÏ‚ ÎµÎ¯Î½Î±Î¹ Î¿ Ï†Î¯Î»Î¿Ï‚ Î¼Î¿Ï….",b:"Î§Î±Î¯ÏÏ‰ Ï€Î¿Î»Ï."}]},
  {day:26,title:"Talking about the past",items:[
    {gr:"Î§Î¸ÎµÏ‚",tr:"Chthes",en:"Yesterday"},
    {gr:"Î ÏÎ¿Ï‡Î¸Î­Ï‚",tr:"Prochthes",en:"Day before yesterday"},
    {gr:"Î‰Î¼Î¿Ï…Î½",tr:"Ãmoun",en:"I was"}
  ],dialog:[{a:"Î¤Î¹ Î­ÎºÎ±Î½ÎµÏ‚ Ï‡Î¸ÎµÏ‚;",b:"Î‰Î¼Î¿Ï…Î½ Î¼Îµ Ï„Î·Î½ Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±."}]},
  {day:27,title:"Future intentions",items:[
    {gr:"Î‘ÏÏÎ¹Î¿",tr:"Ãvrio",en:"Tomorrow"},
    {gr:"Î˜Î±...",tr:"Tha...",en:"Will..."},
    {gr:"Î˜Î­Î»Ï‰ Î½Î±...",tr:"ThÃ©lo na...",en:"I want to..."}
  ],dialog:[{a:"Î¤Î¹ Î¸Î± ÎºÎ¬Î½ÎµÎ¹Ï‚ Î±ÏÏÎ¹Î¿;",b:"Î˜Î± ÎµÏÎ³Î±ÏƒÏ„Ï ÎºÎ±Î¹ Î¼ÎµÏ„Î¬ Î¸Î± Ï€Î¬Ï‰ ÏƒÏ€Î¯Ï„Î¹."}]},
  {day:28,title:"Special occasions",items:[
    {gr:"Î“ÎµÎ½Î­Î¸Î»Î¹Î±",tr:"GenÃ©thlia",en:"Birthday"},
    {gr:"Î“Î¹Î¿ÏÏ„Î®",tr:"GiortÃ­",en:"Name day/celebration"},
    {gr:"ÎšÎ±Î»Î® Ï‡ÏÎ¿Î½Î¹Î¬",tr:"KalÃ­ chroniÃ¡",en:"Happy new year"}
  ],dialog:[{a:"Î§ÏÏŒÎ½Î¹Î± Ï€Î¿Î»Î»Î¬!",b:"Î•Ï…Ï‡Î±ÏÎ¹ÏƒÏ„Ï Ï€Î¿Î»Ï!"}]},
  {day:29,title:"Full review",items:[],dialog:[]},
  {day:30,title:"Final recap & celebration",items:[],dialog:[]}
];

/* ====== APP UI ====== */
const app = document.getElementById('app');
const lessonCard = document.getElementById('lessonCard');

function renderHome() {
  app.innerHTML = '';
  const card = elt('div','card');
  card.innerHTML = `<div class="row"><div style="flex:1"><strong class="big">30-day plan</strong><div class="small">Tap a day to open a short 20-min lesson</div></div><button id="startBtn" class="btn">Start Day 1</button></div>`;
  app.appendChild(card);

  const list = elt('div','lesson-list');
  lessons.forEach(l => {
    const it = elt('div','lesson-item');
    it.innerHTML = `<div><strong>Day ${l.day}</strong></div><div class="small">${l.title}</div><div class="small" style="margin-top:8px">Tap to open</div>`;
    it.onclick = () => openLesson(l.day);
    list.appendChild(it);
  });
  app.appendChild(list);

  document.getElementById('startBtn').onclick = () => openLesson(1);
}

function openLesson(day) {
  const l = lessons.find(x => x.day === day);
  lessonCard.classList.remove('hidden');
  lessonCard.innerHTML = '';
  const header = elt('div','row');
  header.innerHTML = `<div style="flex:1"><strong>Day ${l.day} â€” ${l.title || 'Review'}</strong><div class="small">~20 minutes (10 vocab / 8 dialog / 5 quiz)</div></div><div><button id="closeBtn" class="btn">Home</button></div>`;
  lessonCard.appendChild(header);
  document.getElementById('closeBtn').onclick = () => { lessonCard.classList.add('hidden'); lessonCard.innerHTML=''; };

  // Vocabulary
  if (l.items && l.items.length) {
    const vcard = elt('div','card');
    vcard.innerHTML = `<div class="small">Vocabulary (${l.items.length})</div><div class="vocab-list" id="vocab${day}"></div>`;
    lessonCard.appendChild(vcard);
    const listEl = vcard.querySelector('#vocab'+day);
    l.items.forEach(it => {
      const ve = elt('div','vocab');
      ve.innerHTML = `<div style="flex:1"><div style="font-weight:700">${it.gr}</div><div class="small">${it.tr} â€” ${it.en}</div></div><button class="play">ğŸ”Š</button>`;
      listEl.appendChild(ve);
      ve.querySelector('.play').onclick = () => speak(it.gr);
      ve.onclick = (e) => { if(e.target.className !== 'play') showExample(it); };
    });
  }

  // Dialogue
  if (l.dialog && l.dialog.length) {
    const dcard = elt('div','card');
    dcard.innerHTML = `<div class="small">Dialogue practice</div>`;
    lessonCard.appendChild(dcard);
    l.dialog.forEach((d, idx) => {
      const p = elt('div','dialog-card');
      p.innerHTML = `<div><strong>Person A:</strong> ${d.a}</div><div style="margin-top:6px"><strong>Person B:</strong> ${d.b}</div>
        <div class="row" style="margin-top:8px">
          <button class="play" id="play-${day}-${idx}">Play dialogue</button>
          <button class="btn" id="rec-${day}-${idx}" style="margin-left:8px">Record & playback</button>
        </div>`;
      dcard.appendChild(p);
      document.getElementById(`play-${day}-${idx}`).onclick = () => { speak(d.a); setTimeout(()=>speak(d.b),1400); };
      // Record & playback: simple browser recording
      document.getElementById(`rec-${day}-${idx}`).onclick = () => recordAndPlay(d.a + ' ' + d.b);
    });
  }

  // Quick quiz
  const qcard = elt('div','card');
  qcard.innerHTML = `<div class="small">Quick 5-question quiz (type the English translation)</div><div id="quizArea"></div><div style="margin-top:8px"><button id="check" class="btn">Check answers</button> <button id="next-day" class="btn" style="margin-left:8px">Next day</button></div><div class="small" id="score" style="margin-top:8px"></div>`;
  lessonCard.appendChild(qcard);
  buildQuiz(l, qcard.querySelector('#quizArea'));
  document.getElementById('check').onclick = () => {
    const inputs = qcard.querySelectorAll('input');
    let score = 0;
    inputs.forEach(inp => {
      const ans = inp.getAttribute('data-answer').toLowerCase().trim();
      const val = (inp.value||'').toLowerCase().trim();
      if (!ans) return;
      if (val && (val === ans || ans.includes(val) || val.includes(ans))) score++;
    });
    qcard.querySelector('#score').innerText = `Score: ${score}/${inputs.length}`;
  };
  document.getElementById('next-day').onclick = () => {
    const next = Math.min(30, day+1);
    openLesson(next);
    window.scrollTo(0,0);
  };

  // Navigation: prev/next buttons at bottom
  const nav = elt('div','nav-row');
  const prevBtn = elt('button','btn'); prevBtn.innerText = 'Prev'; prevBtn.onclick = () => openLesson(Math.max(1,day-1));
  const homeBtn = elt('button','btn'); homeBtn.innerText = 'Home'; homeBtn.onclick = () => { lessonCard.classList.add('hidden'); lessonCard.innerHTML=''; };
  const nextBtn = elt('button','btn'); nextBtn.innerText = 'Next'; nextBtn.onclick = () => openLesson(Math.min(30,day+1));
  nav.appendChild(prevBtn); nav.appendChild(homeBtn); nav.appendChild(nextBtn);
  lessonCard.appendChild(nav);
}

function buildQuiz(lesson, container) {
  container.innerHTML = '';
  const items = lesson.items || [];
  for (let i=0;i<5;i++){
    const it = items[i % (items.length || 1)];
    const qi = elt('div');
    qi.className = 'small';
    const ans = it ? it.en : '';
    qi.innerHTML = `<div style="margin-top:8px">Translate to English: <strong>${it ? it.gr : 'â€”'}</strong></div><input type="text" data-answer="${escapeHtml(ans)}" />`;
    container.appendChild(qi);
  }
}

function showExample(item) {
  // small modal-like temporary popup (alert fallback)
  const txt = `${item.gr} â€” ${item.tr}\nMeaning: ${item.en}`;
  if (confirm(`${txt}\n\nPress OK to hear it.`)) speak(item.gr);
}

function speak(text){
  if('speechSynthesis' in window){
    const ut = new SpeechSynthesisUtterance(text);
    ut.lang = 'el-GR';
    // attempt to choose a Greek voice if available
    const voices = speechSynthesis.getVoices();
    const greek = voices.find(v => v.lang && v.lang.startsWith('el'));
    if (greek) ut.voice = greek;
    // fallback: set a sensible rate for clarity
    ut.rate = 0.95;
    speechSynthesis.cancel();
    speechSynthesis.speak(ut);
  } else {
    alert('TTS not supported in this browser.');
  }
}

/* recording helper: uses MediaRecorder if available, otherwise plays phrase with TTS */
async function recordAndPlay(text) {
  if (!navigator.mediaDevices || !window.MediaRecorder) {
    // simple fallback: play the lines with TTS
    speak(text);
    return;
  }
  try {
    const stream = await navigator.mediaDevices.getUserMedia({audio:true});
    const recorder = new MediaRecorder(stream);
    const chunks = [];
    recorder.ondataavailable = e => chunks.push(e.data);
    recorder.onstop = async () => {
      const blob = new Blob(chunks, {type:'audio/webm'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('audio');
      a.src = url; a.controls = true; a.autoplay = true;
      // small user-notice
      alert('Playing your recording now. Press OK to hear the original phrase.');
      speak(text);
      // release
      setTimeout(()=>{ URL.revokeObjectURL(url); if(stream) stream.getTracks().forEach(t=>t.stop()); }, 60000);
    };
    alert('Press OK to start 5-second recording; speak after the beep.');
    recorder.start();
    // beep
    const ctx = new (window.AudioContext||window.webkitAudioContext)();
    const o = ctx.createOscillator(); o.type='sine'; o.frequency.value=880;
    const g = ctx.createGain(); g.gain.value = 0.00001;
    o.connect(g); g.connect(ctx.destination);
    g.gain.exponentialRampToValueAtTime(0.2, ctx.currentTime + 0.01);
    o.start();
    setTimeout(()=>{ g.gain.exponentialRampToValueAtTime(0.00001, ctx.currentTime + 0.1); o.stop(); }, 120);
    await wait(5000);
    recorder.stop();
  } catch (e) {
    console.error(e);
    alert('Recording failed or permission denied. Playing phrase instead.');
    speak(text);
  }
}

/* helpers */
function elt(tag, cls){ const e = document.createElement(tag); if (cls) e.className = cls; return e; }
function escapeHtml(s){ return (s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
function wait(ms){ return new Promise(res=>setTimeout(res, ms)); }

/* init */
renderHome();

</script>
</body>
</html>
